<div class="books-list">
  <% if (books.length === 0) { %>
    <%- include('./book-empty') %>
  <% } %>
  <% books.forEach(book => { %>
    <div class="book-card">
      <% if (book.image_url) { %>
        <div class="book-cover">
          <img src="<%= book.image_url %>" alt="<%= book.title %>" class="book-cover-img">
        </div>
      <% } else { %>
        <div class="book-cover-placeholder">No Image</div>
      <% } %>

      <div class="book-info">
        <h3 class="book-title"><%= book.title %></h3>
        <p class="book-author"><%= book.author %></p>
        <div class="book-genres">
          <% book.genres.forEach(genre => { %>
            <span class="book-genre"><%= genre %></span>
          <% }) %>
        </div>
      </div>

      <div class="book-actions">    
        <div class="action-edit"><a href="/<%= book.id %>/edit?from=home"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-pencil-icon lucide-pencil"><path d="M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z"/><path d="m15 5 4 4"/></svg></a></div>
        
        <div class="action-delete">
          <button onclick="openDeleteModal('/<%= book.id %>/delete', '<%= book.title %>')">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-trash2-icon lucide-trash-2"><path d="M10 11v6"/><path d="M14 11v6"/><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"/><path d="M3 6h18"/><path d="M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/></svg>
          </button>
        </div>

        <div class="action-open"><a href="/<%= book.id %>"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-arrow-right-icon lucide-arrow-right"><path d="M5 12h14"/><path d="m12 5 7 7-7 7"/></svg></a></div>
      </div>
    </div>
  <% }) %>
</div>
