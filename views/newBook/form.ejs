<form action="/newbook" method="POST">
  <div class="form-group">
    <label for="title">Book Title <span class="required">*</span></label>
    <input type="text" id="title" name="title" required placeholder="Enter book title" value="<%= previous ? previous.title : '' %>" />
  </div>

  <div class="form-group">
    <label for="author">Author <span class="required">*</span></label>
    <input type="text" id="author" name="author" required placeholder="Enter author name" value="<%= previous ? previous.author : '' %>" />
  </div>

  <div class="form-row">
    <div class="form-group">
      <label for="published_year">Published Year</label>
      <input type="number" id="published_year" name="published_year" min="0" max="2100" placeholder="e.g., 2023" value="<%= previous ? previous.published_year : '' %>" />
    </div>

    <div class="form-group">
      <label for="isbn">ISBN</label>
      <input type="text" id="isbn" name="isbn" placeholder="e.g., 978-0451524935" value="<%= previous ? previous.isbn : '' %>" />
    </div>
  </div>

  <div class="form-group">
    <label for="description">Description</label>
    <textarea id="description" name="description" placeholder="Enter book description"><%= previous ? previous.description : '' %></textarea>
  </div>

  <div class="form-row">
    <div class="form-group">
      <label for="pages">Pages</label>
      <input type="number" id="pages" name="pages" min="1" placeholder="e.g., 300" value="<%= previous ? previous.pages : '' %>" />
    </div>

    <div class="form-group">
      <label for="stock">Stock <span class="required">*</span></label>
      <input type="number" id="stock" name="stock" min="0" value="<%= previous ? previous.stock : 0 %>" required />
    </div>
  </div>

  <div class="form-group">
    <label for="image_url">Image URL</label>
    <input type="url" id="image_url" name="image_url" placeholder="https://example.com/book-cover.jpg" value="<%= previous ? previous.image_url : '' %>" />
  </div>

  <div class="form-group">
    <label>Genres <span class="required">*</span> (select at least one)</label>
    <div class="genre-checkboxes">
      <% genres.forEach(genre => { %>
      <label class="checkbox-label">
        <input type="checkbox" name="genres" value="<%= genre.id %>" <%= previous && previous.genres && previous.genres.includes(genre.id.toString()) ? 'checked' : '' %>> <%=
        genre.name %>
      </label>
      <% }); %>
    </div>
  </div>

  <div class="form-group">
    <label for="admin_password">Admin Password</label>
    <input type="password" id="admin_password" name="admin_password" placeholder="Enter admin password" required />
  </div>

  <div class="button-group">
    <button type="submit">Add Book</button>
    <a href="/" class="btn-cancel">Cancel</a>
  </div>
</form>
